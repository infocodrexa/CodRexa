# React Router SPA handling
<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /

  # Fix: Ensure assets always load from root
  RewriteRule ^(.*/)assets/(.*)$ /assets/$2 [L]

  # Don't rewrite requests for static files
  RewriteCond %{REQUEST_URI} \.(js|css|png|jpg|jpeg|gif|svg|ico|json|txt|woff2?|ttf|eot)$ [NC]
  RewriteRule ^ - [L]

  # If request is not a file or directory â†’ serve index.html
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule ^ index.html [L]
</IfModule>

# Extra safety headers
<IfModule mod_headers.c>
  Header set Cache-Control "no-cache, no-store, must-revalidate"
  Header set Pragma "no-cache"
  Header set Expires 0
</IfModule>
